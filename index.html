<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Auto-Submit Quiz coba</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    #countdown { color: red; font-weight: bold; }
  </style>
  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbyJtejosOCxhjc2bCY3T4STWcuL3g_EXePSOn0QbCqCIeeVqGcbGq_i-ZiDwLQSUClcrw/exec";

    let timeLeft = 30; // seconds

    function startTimer() {
      const display = document.getElementById("countdown");
      const interval = setInterval(() => {
        display.textContent = `Time remaining: ${timeLeft}s`;
        timeLeft--;

        if (timeLeft < 0) {
          clearInterval(interval);
          document.getElementById("quizForm").requestSubmit();
        }
      }, 1000);
    }

    function handleSubmit(event) {
      event.preventDefault();
      const answer = document.querySelector('input[name="answer"]').value;
      const formData = new URLSearchParams();
      formData.append("answer", answer);

      fetch(scriptURL, {
        method: "POST",
        body: formData,
      })
      .then(() => window.location.href = "thankyou.html")
      .catch(error => alert("Submission failed: " + error));
    }

    window.onload = startTimer;
  </script>
</head>
<body>
  <h2>Mini Quiz</h2>
  <div id="countdown">Time remaining: 30s</div>
  <form id="quizForm" onsubmit="handleSubmit(event)">
    <label>What is 5 x 3?</label><br>
    <input type="text" name="answer" required><br><br>
    <button type="submit">Submit</button>
  </form>
</body>
</html>

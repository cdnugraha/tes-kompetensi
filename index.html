<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tes Kompetensi Rekrutmen Mitra Tambahan BPS Kota Yogyakarta</title>
  <link rel="stylesheet" href="bootstrap.css" />

  <style>
  #soal {
    display: none;
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  #soal.show {
    display: block;
    opacity: 1;
  }
</style>
 
</head>
<body>
  <div class="container">
  <h2>Tes Kompetensi Rekrutmen Mitra Tambahan BPS Kota Yogyakarta</h2>
  <div id="countdown" class="countdown">Sisa Waktu: 60:00</div>
<br/>
  
  <form id="quizForm" action="https://script.google.com/macros/s/AKfycbyXDSQtmQ7d9stMxaEsWnmtzrSpoSRd14wbk1M24yV0WNHKCpn14COVYomhblxKRljDug/exec" method="POST" target="hidden_iframe">
    <div class="form-group">
      <label>Email:</label><br>
      <input class="form-control" name="email" type="email" required />
    </div>
    
    <div class="form-group">
      <label>Nama Lengkap:</label><br>
      <input class="form-control" name="name" type="text" required />
  </div>
    <br/>

    <button type="button" id="startBtn" class="btn btn-primary mt-3">Mulai Tes</button>

    <div id="soal" style="display: none;">

    <h4>Pilihlah satu jawaban yang paling benar dari soal berikut ini.</h4>
    <br/>

    <h4>1. 2, 2, 6, 8, 10, … , … </h4>
    <div class="radio">
      <label><input type="radio" name="q1" value="A"> a. 14, 14 </label><br/>
      <label><input type="radio" name="q1" value="B"> b. 16, 26 </label><br/>
      <label><input type="radio" name="q1" value="C"> c. 18, 28  </label><br/>
      <label><input type="radio" name="q1" value="D"> d. 19, 29 </label><br/>
      <label><input type="radio" name="q1" value="E"> e. 20, 30  </label><br/>
    </div><br/>

    <h4>2.	0, 3, 6, 9, 12, 15, ...  </h4>
    <div class="radio">
      <label><input type="radio" name="q2" value="A"> a. 16 </label><br/>
      <label><input type="radio" name="q2" value="B"> b. 17 </label><br/>
      <label><input type="radio" name="q2" value="C"> c. 18 </label><br/>
      <label><input type="radio" name="q2" value="D"> d. 19 </label><br/>
      <label><input type="radio" name="q2" value="E"> e. 20  </label><br/>
    </div><br/>

    <h4>3.	52, 53, 56, 61, 68, ....   </h4>
    <div class="radio">
      <label><input type="radio" name="q3" value="A"> a. 75 </label><br/>
      <label><input type="radio" name="q3" value="B"> b. 77 </label><br/>
      <label><input type="radio" name="q3" value="C"> c. 78 </label><br/>
      <label><input type="radio" name="q3" value="D"> d. 81 </label><br/>
      <label><input type="radio" name="q3" value="E"> e. 83  </label><br/>
    </div><br/>

    <h4>4.	(15 + 40) x 3 = …   </h4>
    <div class="radio">
      <label><input type="radio" name="q4" value="A"> a. 90</label><br/>
      <label><input type="radio" name="q4" value="B"> b. 105 </label><br/>
      <label><input type="radio" name="q4" value="C"> c. 120 </label><br/>
      <label><input type="radio" name="q4" value="D"> d. 165 </label><br/>
      <label><input type="radio" name="q4" value="E"> e. 175  </label><br/>
    </div><br/>

    <h4>5.	11/40 dari 40% adalah?   </h4>
    <div class="radio">
      <label><input type="radio" name="q5" value="A"> a. 0,15</label><br/>
      <label><input type="radio" name="q5" value="B"> b. 0,11 </label><br/>
      <label><input type="radio" name="q5" value="C"> c. 16 </label><br/>
      <label><input type="radio" name="q5" value="D"> d. 15,5 </label><br/>
      <label><input type="radio" name="q5" value="E"> e. 0,13  </label><br/>
    </div><br/>

    <h4>6.	(1/2 x 2) : 0,25 = …    </h4>
    <div class="radio">
      <label><input type="radio" name="q6" value="A"> a. 2,7</label><br/>
      <label><input type="radio" name="q6" value="B"> b. 4,0 </label><br/>
      <label><input type="radio" name="q6" value="C"> c. 6,0 </label><br/>
      <label><input type="radio" name="q6" value="D"> d. 7,0 </label><br/>
      <label><input type="radio" name="q6" value="E"> e. 7,7  </label><br/>
    </div><br/>

    <h4>7. 13, 14, 17, 22, 29, 38, 49, …</h4>
<div class="radio">
  <label><input type="radio" name="q7" value="A"> a. 50</label><br/>
  <label><input type="radio" name="q7" value="B"> b. 57</label><br/>
  <label><input type="radio" name="q7" value="C"> c. 49</label><br/>
  <label><input type="radio" name="q7" value="D"> d. 62</label><br/>
  <label><input type="radio" name="q7" value="E"> e. 71</label><br/>
</div><br/>

<h4>8. 15, 16, 19, 24, 31, …</h4>
<div class="radio">
  <label><input type="radio" name="q8" value="A"> a. 40</label><br/>
  <label><input type="radio" name="q8" value="B"> b. 47</label><br/>
  <label><input type="radio" name="q8" value="C"> c. 51</label><br/>
  <label><input type="radio" name="q8" value="D"> d. 52</label><br/>
  <label><input type="radio" name="q8" value="E"> e. 53</label><br/>
</div><br/>

<h4>9. Jika 2x + 5 = 17, maka nilai x adalah?</h4>
<div class="radio">
  <label><input type="radio" name="q9" value="A"> a. 2</label><br/>
  <label><input type="radio" name="q9" value="B"> b. 4</label><br/>
  <label><input type="radio" name="q9" value="C"> c. 6</label><br/>
  <label><input type="radio" name="q9" value="D"> d. 8</label><br/>
  <label><input type="radio" name="q9" value="E"> e. 10</label><br/>
</div><br/>

<h4>10. Ibu membeli 3 kg telur dan 2 kg tepung. Harga 1 kg telur adalah Rp21.000, sementara harga 1 kg tepung adalah Rp9.000. Uang yang harus dibayarkan ibu adalah…</h4>
<div class="radio">
  <label><input type="radio" name="q10" value="A"> a. Rp51.000</label><br/>
  <label><input type="radio" name="q10" value="B"> b. Rp61.000</label><br/>
  <label><input type="radio" name="q10" value="C"> c. Rp71.000</label><br/>
  <label><input type="radio" name="q10" value="D"> d. Rp81.000</label><br/>
  <label><input type="radio" name="q10" value="E"> e. Rp91.000</label><br/>
</div><br/>

    <h4>11. 145 + 145 - 145 x 145 : 145 = ?</h4>
<div class="radio">
  <label><input type="radio" name="q11" value="A"> a. 115</label><br/>
  <label><input type="radio" name="q11" value="B"> b. 125</label><br/>
  <label><input type="radio" name="q11" value="C"> c. 135</label><br/>
  <label><input type="radio" name="q11" value="D"> d. 145</label><br/>
  <label><input type="radio" name="q11" value="E"> e. 146</label><br/>
</div><br/>

<h4>12. -28 + (218 – 26) : 24 = ...</h4>
<div class="radio">
  <label><input type="radio" name="q12" value="A"> a. -23</label><br/>
  <label><input type="radio" name="q12" value="B"> b. -21</label><br/>
  <label><input type="radio" name="q12" value="C"> c. -24</label><br/>
  <label><input type="radio" name="q12" value="D"> d. -20</label><br/>
  <label><input type="radio" name="q12" value="E"> e. -30</label><br/>
</div><br/>

<h4>13. 325 x 45 : 325 – 3 = ...</h4>
<div class="radio">
  <label><input type="radio" name="q13" value="A"> a. -3</label><br/>
  <label><input type="radio" name="q13" value="B"> b. 42</label><br/>
  <label><input type="radio" name="q13" value="C"> c. 45</label><br/>
  <label><input type="radio" name="q13" value="D"> d. 55</label><br/>
  <label><input type="radio" name="q13" value="E"> e. 65</label><br/>
</div><br/>

<h4>14. Untuk menyelesaikan pembangunan sebuah gedung diperlukan 24 orang pekerja selama 45 hari. Karena suatu hal pembangunan gedung tersebut harus selesai dalam 30 hari. Tambahan pekerja yang diperlukan agar selesai tepat waktu adalah ...</h4>
<div class="radio">
  <label><input type="radio" name="q14" value="A"> a. 12 orang</label><br/>
  <label><input type="radio" name="q14" value="B"> b. 24 orang</label><br/>
  <label><input type="radio" name="q14" value="C"> c. 36 orang</label><br/>
  <label><input type="radio" name="q14" value="D"> d. 48 orang</label><br/>
  <label><input type="radio" name="q14" value="E"> e. 60 orang</label><br/>
</div><br/>

<h4>15. Jarak rumah Andi dan rumah Feri yang berada di luar kota adalah 900 km. Apabila Andi pergi ke rumah Feri dengan mobil berkecepatan 100 km/jam, berapa lama waktu perjalanan yang dibutuhkan Andi?</h4>
<div class="radio">
  <label><input type="radio" name="q15" value="A"> a. 1.200 menit</label><br/>
  <label><input type="radio" name="q15" value="B"> b. 900 menit</label><br/>
  <label><input type="radio" name="q15" value="C"> c. 660 menit</label><br/>
  <label><input type="radio" name="q15" value="D"> d. 540 menit</label><br/>
  <label><input type="radio" name="q15" value="E"> e. 400 menit</label><br/>
</div><br/>

<h4>16. Fira menabung di Bank Q sebesar Rp250.000. Bunga yang diperoleh jika menabung di bank ini setiap tahunnya adalah 10%. Jumlah tabungan Fira setelah 1 tahun menabung di Bank Q adalah …</h4>
<div class="radio">
  <label><input type="radio" name="q16" value="A"> a. Rp90.000</label><br/>
  <label><input type="radio" name="q16" value="B"> b. Rp250.000</label><br/>
  <label><input type="radio" name="q16" value="C"> c. Rp275.000</label><br/>
  <label><input type="radio" name="q16" value="D"> d. Rp310.000</label><br/>
  <label><input type="radio" name="q16" value="E"> e. Rp340.000</label><br/>
</div><br/>

<h4>17. Putri membeli boneka seharga Rp50.000. Kemudian, boneka dijual lagi dengan harga Rp70.000. Berapa persen keuntungan Putri?</h4>
<div class="radio">
  <label><input type="radio" name="q17" value="A"> a. 30%</label><br/>
  <label><input type="radio" name="q17" value="B"> b. 40%</label><br/>
  <label><input type="radio" name="q17" value="C"> c. 50%</label><br/>
  <label><input type="radio" name="q17" value="D"> d. 60%</label><br/>
  <label><input type="radio" name="q17" value="E"> e. 70%</label><br/>
</div><br/>

<h4>18. Handai =</h4>
<div class="radio">
  <label><input type="radio" name="q18" value="A"> a. saudara</label><br/>
  <label><input type="radio" name="q18" value="B"> b. peserta</label><br/>
  <label><input type="radio" name="q18" value="C"> c. pemirsa</label><br/>
  <label><input type="radio" name="q18" value="D"> d. warga</label><br/>
  <label><input type="radio" name="q18" value="E"> e. kawan</label><br/>
</div><br/>

<h4>19. Mutu =</h4>
<div class="radio">
  <label><input type="radio" name="q19" value="A"> a. Harga</label><br/>
  <label><input type="radio" name="q19" value="B"> b. Kualitas</label><br/>
  <label><input type="radio" name="q19" value="C"> c. Kuantitas</label><br/>
  <label><input type="radio" name="q19" value="D"> d. Kasualitas</label><br/>
  <label><input type="radio" name="q19" value="E"> e. Jaminan</label><br/>
</div><br/>

<h4>20. Mudah : Gampang = Rival : ...</h4>
<div class="radio">
  <label><input type="radio" name="q20" value="A"> a. Teman</label><br/>
  <label><input type="radio" name="q20" value="B"> b. Lawan</label><br/>
  <label><input type="radio" name="q20" value="C"> c. Rekan</label><br/>
  <label><input type="radio" name="q20" value="D"> d. Sulit</label><br/>
  <label><input type="radio" name="q20" value="E"> e. Sukar</label><br/>
</div><br/>

<h4>21. Bola : … = Hunian : Apartemen</h4>
<div class="radio">
  <label><input type="radio" name="q21" value="A"> a. Basket</label><br/>
  <label><input type="radio" name="q21" value="B"> b. Dunia</label><br/>
  <label><input type="radio" name="q21" value="C"> c. Lingkaran</label><br/>
  <label><input type="radio" name="q21" value="D"> d. Kotak</label><br/>
  <label><input type="radio" name="q21" value="E"> e. Volume</label><br/>
</div><br/>

<h4>22. Tahun : Bulan : Minggu = … : … : ...</h4>
<div class="radio">
  <label><input type="radio" name="q22" value="A"> a. Speaker : Mic : Sound System</label><br/>
  <label><input type="radio" name="q22" value="B"> b. Kursi : Lemari : Kamar</label><br/>
  <label><input type="radio" name="q22" value="C"> c. Gelas : Piring : Nampan</label><br/>
  <label><input type="radio" name="q22" value="D"> d. Hari : Jam : Menit</label><br/>
  <label><input type="radio" name="q22" value="E"> e. Jumat : Sabtu : Minggu</label><br/>
</div><br/>

<h4>23. Masuk : Keluar = …. : ….</h4>
<div class="radio">
  <label><input type="radio" name="q23" value="A"> a. Pelan : Lambat</label><br/>
  <label><input type="radio" name="q23" value="B"> b. Jinjing : Angkat</label><br/>
  <label><input type="radio" name="q23" value="C"> c. Tajam : Tumpul</label><br/>
  <label><input type="radio" name="q23" value="D"> d. Paku : Runcing</label><br/>
  <label><input type="radio" name="q23" value="E"> e. Berat : Tinggi</label><br/>
</div><br/>

<h4>24. Semua apel berasa manis. Semua yang manis disukai anak-anak.</h4>
<div class="radio">
  <label><input type="radio" name="q24" value="A"> a. Semua anak hanya menyukai yang manis.</label><br/>
  <label><input type="radio" name="q24" value="B"> b. Semua anak hanya menyukai apel.</label><br/>
  <label><input type="radio" name="q24" value="C"> c. Semua apel disukai anak-anak.</label><br/>
  <label><input type="radio" name="q24" value="D"> d. Semua anak-anak suka buah-buahan.</label><br/>
  <label><input type="radio" name="q24" value="E"> e. Semua buah disukai anak-anak.</label><br/>
</div><br/>

<h4>25. Giana adalah anak yang rajin. Ia tidak pergi ke pasar kecuali hari Sabtu. Hari ini hari Kamis.</h4>
<div class="radio">
  <label><input type="radio" name="q25" value="A"> a. Giana pergi ke pasar</label><br/>
  <label><input type="radio" name="q25" value="B"> b. Giana tidak pergi ke pasar</label><br/>
  <label><input type="radio" name="q25" value="C"> c. Giana pergi ke sekolah</label><br/>
  <label><input type="radio" name="q25" value="D"> d. Giana anak yang pintar</label><br/>
  <label><input type="radio" name="q25" value="E"> e. Giana anak yang rajin</label><br/>
</div><br/>

    <h4>26. Berikut adalah indikator sosial ekonomi yang dihasilkan BPS, kecuali ...</h4>
<div class="radio">
  <label><input type="radio" name="q26" value="A"> a. Pertumbuhan ekonomi</label><br/>
  <label><input type="radio" name="q26" value="B"> b. Persentase penduduk miskin</label><br/>
  <label><input type="radio" name="q26" value="C"> c. Persentase penduduk sejahtera</label><br/>
  <label><input type="radio" name="q26" value="D"> d. Indeks kedalaman kemiskinan</label><br/>
  <label><input type="radio" name="q26" value="E"> e. Gini rasio</label><br/>
</div><br/>

<h4>27. Apa kepanjangan dari BPS?</h4>
<div class="radio">
  <label><input type="radio" name="q27" value="A"> a. Badan Pusat Statistik</label><br/>
  <label><input type="radio" name="q27" value="B"> b. Badan Pengawas Statistik</label><br/>
  <label><input type="radio" name="q27" value="C"> c. Badan Penelitian Statistik</label><br/>
  <label><input type="radio" name="q27" value="D"> d. Badan Perencanaan Statistik</label><br/>
  <label><input type="radio" name="q27" value="E"> e. Badan Pembangunan Statistik</label><br/>
</div><br/>

<h4>28. Salah satu indikator sosial ekonomi yang dihasilkan BPS adalah ...</h4>
<div class="radio">
  <label><input type="radio" name="q28" value="A"> a. Jumlah penduduk kaya</label><br/>
  <label><input type="radio" name="q28" value="B"> b. Jumlah penduduk sejahtera</label><br/>
  <label><input type="radio" name="q28" value="C"> c. Jumlah penduduk</label><br/>
  <label><input type="radio" name="q28" value="D"> d. Jumlah penduduk sehat</label><br/>
  <label><input type="radio" name="q28" value="E"> e. Jumlah penduduk cacat</label><br/>
</div><br/>

<h4>29. Contoh survei BPS yang respondennya adalah rumah tangga adalah ...</h4>
<div class="radio">
  <label><input type="radio" name="q29" value="A"> a. Survei Harga Produsen</label><br/>
  <label><input type="radio" name="q29" value="B"> b. Kerangka Sampel Area</label><br/>
  <label><input type="radio" name="q29" value="C"> c. Sensus Ekonomi</label><br/>
  <label><input type="radio" name="q29" value="D"> d. Survei Angkatan Kerja Nasional</label><br/>
  <label><input type="radio" name="q29" value="E"> e. Survei Tahunan Perusahaan Industri Manufaktur</label><br/>
</div><br/>

<h4>30. Contoh survei BPS yang respondennya adalah perusahaan adalah ...</h4>
<div class="radio">
  <label><input type="radio" name="q30" value="A"> a. Survei Tahunan Perusahaan Industri Manufaktur</label><br/>
  <label><input type="radio" name="q30" value="B"> b. Survei Sosial Ekonomi Nasional</label><br/>
  <label><input type="radio" name="q30" value="C"> c. Survei Angkatan Kerja Nasional</label><br/>
  <label><input type="radio" name="q30" value="D"> d. Survei Biaya Hidup</label><br/>
  <label><input type="radio" name="q30" value="E"> e. Sensus Penduduk</label><br/>
</div><br/>
   
  <div class="form-group">
    <button id="submitBtn" class="btn btn-primary" type="submit">Kirim Jawaban</button>
    <button id="autoSubmitBtn" class="btn btn-default" type="submit" style="display: none;">Auto Submit</button>
  </div>
  </form>
</div>
    </div>

  <iframe name="hidden_iframe" style="display:none;" onload="iframeLoaded()"></iframe>

  <script>
    
    let formSubmitted = false;
    let timerInterval;
    let timeLeft = 30;
    const form = document.getElementById("quizForm");
    const display = document.getElementById("countdown");
    const totalQuestions = 30;

    /* 
    window.onload = () => {
      // Restore saved input
      const saved = JSON.parse(localStorage.getItem("quizFormData") || "{}");
      if (saved.email) form.email.value = saved.email;
      if (saved.name) form.name.value = saved.name;
      if (saved.q1) form.q1.value = saved.q1;
      

       // Restore time and submission status
        timeLeft = parseInt(localStorage.getItem("timeLeft")) || 30;
        formSubmitted = localStorage.getItem("formSubmitted") === "true";

        if (formSubmitted) {
          disableForm();
          display.textContent = `Sisa Waktu: 00:00`;
        } else {
          startTimer();
        }

       
      // Save input to localStorage
      form.addEventListener("input", () => {
        const formData = {
          email: form.email.value,
          name: form.name.value,
          q1: form.q1.value,
        };
        localStorage.setItem("quizFormData", JSON.stringify(formData));
      }); 
       
      // ✅ Tambahkan ini agar handleSubmit dipanggil
      form.addEventListener("submit", handleSubmit);
       
      // Start the timer
    //  startTimer();
    }; */
    window.onload = () => {
        // Restore saved input
        const saved = JSON.parse(localStorage.getItem("quizFormData") || "{}");
      
        if (saved.email) form.email.value = saved.email;
        if (saved.name) form.name.value = saved.name;
      
        // Restore all q1 to q30 if available
        for (let i = 1; i <= 30; i++) {
          const qKey = `q${i}`;
          if (saved[qKey]) form[qKey].value = saved[qKey];
        }
      
        // Restore time and submission status
        timeLeft = parseInt(localStorage.getItem("timeLeft")) || 30;
        formSubmitted = localStorage.getItem("formSubmitted") === "true";
      
        if (formSubmitted) {
          disableForm();
          display.textContent = `Sisa Waktu: 00:00`;
        } else {
          startTimer();
        }
      
        // Save input to localStorage
        form.addEventListener("input", () => {
          const formData = {
            email: form.email.value,
            name: form.name.value,
          };
      
          // Save all q1 to q30 if available
          for (let i = 1; i <= 30; i++) {
            const qKey = `q${i}`;
            if (form[qKey]) {
              formData[qKey] = form[qKey].value;
            }
          }
      
          localStorage.setItem("quizFormData", JSON.stringify(formData));
        });
      
        // Pastikan handleSubmit aktif
        form.addEventListener("submit", handleSubmit);

        document.getElementById("startBtn").addEventListener("click", () => {
          const email = form.email.value.trim();
          const name = form.name.value.trim();
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
          if (!email || !name) {
            alert("⚠️ Silakan isi Email dan Nama terlebih dahulu sebelum memulai tes.");
            return;
          }

          if (!emailRegex.test(email)) {
            alert("⚠️ Format email tidak valid. Contoh yang benar: nama@domain.com");
            return;
          }
        
          const soalDiv = document.getElementById("soal");
          soalDiv.classList.add("show"); // tambahkan class untuk animasi
          document.getElementById("startBtn").style.display = "none"; // sembunyikan tombol
        });
      
      };

    function startTimer() {
     // const display = document.getElementById("countdown");
      // onsubmit="return handleSubmit()"
      display.textContent = `Sisa Waktu: ${formatTime(timeLeft)}`;

      timerInterval = setInterval(() => {
        timeLeft--;
        display.textContent = `Sisa Waktu: ${formatTime(timeLeft)}`;
        localStorage.setItem("timeLeft", timeLeft);
        

        
        if (timeLeft < 0) {
          if(!formSubmitted){
          clearInterval(timerInterval);       
          display.textContent = `Sisa Waktu: 00:00`;
          alert("⏰ Waktu habis! Form akan otomatis dikirim.");
          localStorage.setItem("formSubmitted", "true");
          document.getElementById("autoSubmitBtn").click();          
          formSubmitted = true;
          disableForm();
        //  handleSubmit(null, true); 
          // Klik tombol submit secara otomatis (seperti manual)
          
        } else {
            alert("⏰ Terima kasih!");
        }
        }
      }, 1000);
    }

    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      return `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
    }

    function disableForm() {
      [...form.querySelectorAll('input, textarea, button')].forEach(el => el.disabled = true);
      localStorage.setItem("formSubmitted", "true");
    }
    
    function handleSubmit(e) {
      if (!formSubmitted) {
  
      if (e.submitter && e.submitter.id === "submitBtn"){
      if (!formSubmitted) {
        const confirmed = confirm("Apakah kamu yakin ingin mengirim jawaban?");
        if (!confirmed) {
          e.preventDefault(); // Stop form submit
          return;
        }
      }} 
      formSubmitted = true; 
      localStorage.setItem("formSubmitted", "true");
      clearInterval(timerInterval);
      display.textContent = `Sisa Waktu: 00:00`;
      localStorage.setItem("timeLeft", 0);
      } else {
        alert("⏰ Waktu habis! Form sudah otomatis dikirim.");
        e.preventDefault(); // Stop form submit
          return;
      }
    }
    
    
    function iframeLoaded() {
      if (formSubmitted) {
        window.location.href = "thankyou.html";
      }
    }

  </script>
</body>
</html>
